<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:anypoint-mq="http://www.mulesoft.org/schema/mule/anypoint-mq"
	xmlns:api-gateway="http://www.mulesoft.org/schema/mule/api-gateway"
	xmlns:tls="http://www.mulesoft.org/schema/mule/tls"
	xmlns:http="http://www.mulesoft.org/schema/mule/http"
	xmlns:apikit="http://www.mulesoft.org/schema/mule/mule-apikit" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="
http://www.mulesoft.org/schema/mule/api-gateway http://www.mulesoft.org/schema/mule/api-gateway/current/mule-api-gateway.xsd 
http://www.mulesoft.org/schema/mule/tls http://www.mulesoft.org/schema/mule/tls/current/mule-tls.xsd 
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd 
http://www.mulesoft.org/schema/mule/mule-apikit http://www.mulesoft.org/schema/mule/mule-apikit/current/mule-apikit.xsd http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/anypoint-mq http://www.mulesoft.org/schema/mule/anypoint-mq/current/mule-anypoint-mq.xsd">
	<http:listener-config name="Global_Listener_Config" doc:name="HTTP Listener config" doc:id="e7654ce9-3e49-4ad1-bf71-52c4e2ac7643" >
		<http:listener-connection host="0.0.0.0" port="${https.port}" protocol="HTTPS" connectionIdleTimeout="${HTTPListener.timeout}">
   			<tls:context >
				<tls:key-store type="jks" path="${keystore.path}" alias="${keystore.alias}" keyPassword="${keystore.password}" password="${keystore.password}"/>
			</tls:context>
		</http:listener-connection>
	</http:listener-config>
	<anypoint-mq:default-subscriber-config name="Anypoint_MQ_Default_subscriber" doc:name="Anypoint MQ Default subscriber" doc:id="0fa9a17d-c082-48c7-b9c6-cf47e63355b5" >
		<anypoint-mq:connection url="${anypoint.mq.client.url}" clientId="${anypoint.mq.client.id}" clientSecret="${anypoint.mq.client.secret}" />
	</anypoint-mq:default-subscriber-config>
	<http:request-config name="SFDC_Order_Creation_Request_Config" doc:name="HTTP Request configuration" doc:id="58afebfe-d752-4d2e-bc28-1c2f555d4e42" >
		<http:request-connection protocol="HTTPS" host="${sfdc.order.api.url}" connectionIdleTimeout="${HTTPRequestor.timeout}">
			<reconnection >
				<reconnect count="${HTTPRequestor.retry.count}" frequency="${HTTPRequestor.retry.interval}"/>
			</reconnection>
		</http:request-connection>
	</http:request-config>
	<configuration-properties doc:name="Configuration properties" doc:id="15dbe042-cdf0-48d3-92aa-55add7d6d477" file="config-${env}.properties" />
 	<api-gateway:autodiscovery apiId="${autodiscovery.id}" doc:name="API Autodiscovery" doc:id="67c5802a-15a5-48ec-a455-6769076076a9" flowRef="gsusa-order-api-p-main" />
 
	
</mule>
